PUSH
ORG 0x16574
#incbin "CanUnitWieldWeapon.dmp"
POIN ItemTable
POIN WLockLookupList
POIN WeaponLockLoop
POP
//vanilla function size: 0x1DA
//new function size: 0x100
//saved: 218 bytes

ALIGN 4
WLockLookupList:
//WORD 0x003C1C00 0xF0070000
WORD 0x00000400 0x00040000 	//Monster Lock
WORD 0x00000800 0x00010000	//Roy Lock
WORD 0x00001000 0x00020000	//Myrm Lock
WORD 0x00010000 0x00000000  //Unusable
WORD 0x00040000 0x10000000  //Eirika Lock
WORD 0x00080000 0x20000000  //Ephraim Lock
WORD 0x00100000 0x40000000  //Lyn Lock
WORD 0x00200000 0x80000000  //Athos Lock
WORD 0xFFFFFFFF 			//Terminator

/*
BYTE 2 0x4 	3 0x4	//Monster Lock
BYTE 2 0x8 	3 0x1 	//Weapon Lock 1
BYTE 2 0x10 3 0x2	//Myrm Lock
//BYTE 3 0x1	 	//Unusable (compare to something dumb)
BYTE 3 0x4	4 0x10  //Eirika Lock
BYTE 3 0x8 	4 0x20	//Ephraim Lock
BYTE 3 0x10 4 0x40	//Lyn Lock
BYTE 3 0x20 4 0x80	//Athos Lock
*/


ALIGN 4
WeaponLockLoop: //r0 = character pointer, r1 = item halfword, r2 = rank; functions return in r0 either true or false for whether or not the weapon may be used
POIN Shadowgift 
WORD 0


